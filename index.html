<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ù–µ–π—Ä–æ-–∞–≥–µ–Ω—Ç –•–ê–ë ‚Äî –ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏ –ò—Ç–∞–ª–∏–∏</title>
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="stylesheet" href="style.css" />
  <style>
    #configStatus {
      background: #eef;
      padding: 10px;
      margin-bottom: 15px;
      border-left: 5px solid #669;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <img src="images/hub-logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo" />
      <h1>–ù–ï–ô–†–û –ê–ì–ï–ù–¢ "–•–ê–ë" / –ù–û–í–û–°–¢–†–û–ô–ö–ò –í –ò–¢–ê–õ–ò–ò.</h1>
    </header>

    <!-- üîß –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <div id="configStatus">üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...</div>

    <main class="main">
      <div id="status">–ì–æ—Ç–æ–≤ —Å–ª—É—à–∞—Ç—å –≤–∞—à –∑–∞–ø—Ä–æ—Å‚Ä¶</div>

      <div class="controls">
        <button id="speakBtn">üé§ –°–ø—Ä–æ—Å–∏—Ç—å –≥–æ–ª–æ—Å–æ–º</button>
        <button id="toggleSound" class="sound-on">üîä –ó–≤—É–∫ –≤–∫–ª.</button>
      </div>

      <textarea id="input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –∑–∞–ø—Ä–æ—Å"></textarea>
      <button id="sendBtn">–°–ø—Ä–æ—Å–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–º</button>

      <div class="examples">
        <strong>–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:</strong>
        <ul>
          <li>–ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ –ú–∏–ª–∞–Ω–µ –¥–æ 250 000 ‚Ç¨</li>
          <li>–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞ —É –º–æ—Ä—è –Ω–µ–¥–æ—Ä–æ–≥–æ</li>
          <li>–ü–æ–∫–∞–∂–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å —Ä–∞—Å—Å—Ä–æ—á–∫–æ–π</li>
          <li>–ü—Ä–µ–º–∏—É–º –∂–∏–ª—å—ë –≤ —Ü–µ–Ω—Ç—Ä–µ –†–∏–º–∞</li>
        </ul>
      </div>

      <div id="chatHistory"></div>
    </main>
  </div>

  <script src="app.js"></script>
  <script>
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é GPT –∏ Whisper
    fetch('/.netlify/functions/read-config')
      .then(res => res.json())
      .then(cfg => {
        document.getElementById("configStatus").innerHTML = `
          üß† GPT-–ú–æ–¥–µ–ª—å: <strong>${cfg.gpt_model}</strong><br>
          üéô Whisper-–°–µ—Ä–≤–µ—Ä: <strong>${cfg.whisper_server}</strong>
        `;
      })
      .catch(err => {
        document.getElementById("configStatus").innerText =
          "‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.";
        console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:", err);
      });
  </script>
</body>
</html>
